<!--Author: Yirong Chen Date: 6/12/2017-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>object moves along a path(User control)</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <style>
            body {
                font-family: Monospace;
                background-color: #f0f0f0;
                margin: 0px;
                overflow: hidden;
            }
        </style>
    </head>

    <body>

        <script src="../js/three.js"></script>
        <script src="../js/tween.js"></script>
        <script src="../js/dat.gui.js"></script>
        <script src="../js/stats.min.js"></script>
        <script src="../js/OrbitControls.js"></script>

        <script>

            var container, stats;
            var camera, scene, renderer, controls;
            var gui = new dat.GUI( { width: 350 } ), options;
            
            var mouse;
            var objects = [];

            init();
            animate();

            function init() {

                container = document.createElement( 'div' );
                document.body.appendChild( container );

                var info = document.createElement( 'div' );
                info.style.position = 'absolute';
                info.style.top = '10px';
                info.style.width = '100%';
                info.style.textAlign = 'center';
                info.innerHTML = 'Use the controller to control the movement.';
                container.appendChild( info );

                //CAMERA
                camera = new THREE.PerspectiveCamera( 40, window.innerWidth / window.innerHeight, 0.1, 100000 );
                camera.position.x = 1000;
                camera.position.y = 1000;
                camera.position.z = 1000;

                //SCENE
                scene = new THREE.Scene();
  
                //lights
                var light1 = new THREE.AmbientLight(0xffffff, 0.5);
                scene.add(light1);

                var light2 = new THREE.PointLight(0xffffff, 0.5);
                scene.add(light2);


                //RENDERER
                renderer = new THREE.WebGLRenderer();
                renderer.setClearColor( 0xFFFFFF, 1.0 );
                renderer.setPixelRatio( window.devicePixelRatio );
                renderer.setSize( window.innerWidth, window.innerHeight );
                container.appendChild(renderer.domElement);


                //mouse control camera
                controls = new THREE.OrbitControls( camera, renderer.domElement );
                //controls.addEventListener( 'change', render ); // remove when using animation loop
                // enable animation loop when using damping or autorotation
                //controls.enableDamping = true;
                //controls.dampingFactor = 0.25;
                //controls.enableZoom = true;

                //FPS stats
                stats = new Stats();
                container.appendChild( stats.dom );


                //document.addEventListener( 'mousedown', onDocumentMouseDown, false );
                //document.addEventListener( 'touchstart', onDocumentTouchStart, false );
                //document.addEventListener( 'mousemove', onDocumentMouseMove, false );
                window.addEventListener( 'resize', onWindowResize, false );

        

            }

            function onWindowResize() {

                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();

                renderer.setSize( window.innerWidth, window.innerHeight );

            }






            function animate() {

                requestAnimationFrame( animate );

                render();
                stats.update();

            }

            //var radius = 600;
            //var theta = 0;

            function render() {

                //TWEEN.update();

                //theta += 0.1;
                
                //camera.position.x = radius * Math.sin( THREE.Math.degToRad( theta ) );
                //camera.position.y = radius * Math.sin( THREE.Math.degToRad( theta ) );
                //camera.position.z = radius * Math.cos( THREE.Math.degToRad( theta ) );
                camera.lookAt( scene.position );

                renderer.render( scene, camera );

            }



        </script>

    </body>
</html>
